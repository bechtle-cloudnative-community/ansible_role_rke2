- name: Cordon {{ inventory_hostname }}
  kubernetes.core.k8s_drain:
    kubeconfig: /etc/rancher/rke2/rke2.yaml
    name: "{{ inventory_hostname }}"
    state: cordon

- name: Drain "{{ inventory_hostname }}"
  kubernetes.core.k8s_drain:
    kubeconfig: /etc/rancher/rke2/rke2.yaml
    delete_options:
      ignore_daemonsets: true
    state: drain
    name: "{{ inventory_hostname }}"
